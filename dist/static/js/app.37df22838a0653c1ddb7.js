webpackJsonp([1],{"7i1F":function(t,e){},COWs:function(t,e){t.exports={default_instance_name:"default",pubnub_prefix:"pubnub",attributes_to_delegate:["channelGroups","push"],methods_to_delegate:["addListener","removeListener","removeAllListeners","hereNow","whereNow","getState","setState","grant","audit","publish","fire","history","deleteMessages","fetchMessages","time","reconnect","stop","unsubscribeAll","getSubscribedChannels","getSubscribedChannelGroups","encrypt","decrypt","getAuthKey","setAuthKey","setCipherKey","getUUID","setUUID","getFilterExpression","setFilterExpression"],common_callbacks_to_wrap:["callback","error"],subscribe_listener_events_to_broadcast:["message","presence","status"],history_sort_attribute:"timetoken"}},ENzn:function(t,e){},MSP8:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),a=s("Dd8w"),i=s.n(a),r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message-bubble",class:t.me},[s("span",{staticClass:"from",class:t.me},[t._v(t._s(t.uuid))]),t._v(" "),s("br",{class:t.me}),t._v(" "),s("span",{staticClass:"message-text"},[t._v(t._s(t.text))])])},staticRenderFns:[]};var u=s("VU/8")({name:"message-bubble",props:["uuid","text"],computed:{me:function(){var t=!1;return this.$store.getters.getMyUuid===this.uuid&&(t=!0),t?"me":""}},data:function(){return{}}},r,!1,function(t){s("7i1F")},"data-v-831f8ca2",null).exports,o=s("NYxO");function c(){this.$el.scrollTo(0,this.$el.scrollHeight)}var l={name:"chat-log",components:{MessageBubble:u},data:function(){return{vueChatMsg:this.$pnGetMessage("vueChat")}},watch:{vueChatMsg:function(){this.$nextTick(c)}},computed:i()({},Object(o.b)({history:"getHistoryMsgs"}))},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"chatLogContainer",staticClass:"chat-log"},[this._l(this.history,function(t){return e("message-bubble",{key:t.id,attrs:{uuid:t.uuid,text:t.text}})}),this._v(" "),this._l(this.vueChatMsg,function(t){return e("message-bubble",{key:t.id,attrs:{uuid:t.message.uuid,text:t.message.text}})})],2)},staticRenderFns:[]};var d=s("VU/8")(l,h,!1,function(t){s("MSP8")},"data-v-db683bca",null).exports,f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message-input"},[s("textarea",{ref:"messageInput",attrs:{placeholder:"message...",maxlength:"20000"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitMessage(e)}}})])},staticRenderFns:[]};var m=s("VU/8")({name:"message-input",data:function(){return{}},methods:{submitMessage:function(t){if(!t.shiftKey&&(t.preventDefault(),0!==t.target.value.length)){var e=this.$store.getters.getMyUuid;this.$pnPublish({channel:"vueChat",message:{text:t.target.value,uuid:e}}),t.target.value=""}}}},f,!1,function(t){s("ENzn")},"data-v-5e45a7d5",null).exports,g=s("DLcu");var p={name:"chat-container",components:{ChatLog:d,MessageInput:m},data:function(){return{title:"PubNub & Vue Global Chat "}},mounted:function(){var t;this.$pnSubscribe({channels:["vueChat"]}),this.$nextTick((t=this.$store,void g.a.getInstance().history({channel:"vueChat",count:6,stringifiedTimeToken:!0},function(e,s){s.messages.forEach(function(e){t.commit("addHistory",{history:[e]})})})))},computed:i()({},Object(o.b)({uuid:"getMyUuid"}))},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chat-container"},[e("div",{staticClass:"heading"},[e("h1",[this._v(this._s(this.title+"- User: "+this.uuid))])]),this._v(" "),e("div",{staticClass:"body"},[e("div",{staticClass:"table"},[e("chat-log"),this._v(" "),e("message-input")],1)])])},staticRenderFns:[]};var v={name:"App",components:{ChatContainer:s("VU/8")(p,b,!1,function(t){s("RqD/")},"data-v-0f3c9c24",null).exports}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("chat-container")],1)},staticRenderFns:[]};var y=s("VU/8")(v,_,!1,function(t){s("mlWA")},null,null).exports;n.a.use(o.a);var C=new o.a.Store({state:{me:{},history:[]},getters:{getMyUuid:function(t){return t.me.uuid},getHistoryMsgs:function(t){return t.history}},mutations:{setMe:function(t,e){var s=e.me;t.me=s},addHistory:function(t,e){e.history.forEach(function(e){t.history.push(e.entry)})}}});n.a.config.productionTip=!1;var x={uuid:function(){for(var t="",e=0;e<4;e++)t+="abcdef0123456789".charAt(Math.floor(Math.random()*"abcdef0123456789".length));return t}()};try{0}catch(t){console.log(t)}n.a.use(g.a,{subscribeKey:"YOUR_SUBSCRIBE_KEY_HERE",publishKey:"YOUR_PUBLISH_KEY_HERE",ssl:!0},C),new n.a({el:"#app",store:C,components:{App:y},template:"<App/>",created:function(){this.$store.commit("setMe",{me:x})}})},"RqD/":function(t,e){},mlWA:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.37df22838a0653c1ddb7.js.map